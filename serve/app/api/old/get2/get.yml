input.model:
    type: object
    id:
        type: integer

output.model:
  type: array
  partition_by: order_id
  properties:
    id:
        mapped: order_id
    order_date:
        mapped: order_date
    items:
        type: array
        partition_by: item_id
        parent_rows: true
        properties:
            id:
                mapped: item_id
            qty:
                mapped: qty
            product:
                type: object
                partition_by: product_id
                parent_rows: true
                properties:
                    id:
                        mapped: product_id
                    name:
                        mapped: product_name
